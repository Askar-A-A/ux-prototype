{% extends 'product_base.html' %}

{% block title %}Product - Challenges{% endblock %}
{% block product_content %}

<div class="flex flex-col">
  <div class="breadcrumbs flex flex-wrap items-start text-sm leading-6">
    <a href="#" class="transition-all text-black/[0.45] hover:text-black/[0.85]">OpenUnited Product Factory</a> 
    <span class="mx-2 text-black/[0.45]">/</span> 
    <a href="#" class="transition-all text-black/[0.45] hover:text-black/[0.85]">Challenges</a> 
    <span class="mx-2 text-black/[0.45]">/</span> 
    <a href="#" class="text-black/[0.85] pointer-events-none">Check and update cypress tests, ensure they provide a solid foundation (later: get running in CI/CD pipeline)</a>
  </div>
  <h2 class="mt-2.5 mb-[50px] max-w-[536px] w-full text-neutral-800 text-xl">Check and update cypress tests, ensure they provide a solid foundation (later: get running in CI/CD pipeline)</h2>
  <div class="flex flex-col">
    <p>Please see: <a href="https://github.com/OpenUnited/product-factory-frontend/pull/72">https://github.com/OpenUnited/product-factory-frontend/pull/72</a></p>
    <p>These cypress tests are from ~6 months ago and were never merged into master, and also never setup in our CI/CD. They may also reference our old test environment on Heroku (no longer there). The cypress tests need to be checked and updated.</p>
    <p>The task is to check these tests, make any changes necessary to ensure they are current/working (our codebase has been updated since these were written) and that this cypress work creates a solid foundation for additional frontend tests.</p>
    <p>As a next step after this task is complete, we will need to get these tests running in our CI/CD pipeline.</p>
  </div>
  <div class="flex flex-col">
    <div class="">Bounty:</div>
    <div class="flex flex-col">
      <div class="flex items-center grow">
        <div class="w-[30%] min-w-[30%]">Skill</div>
        <div class="w-[30%] min-w-[30%]">Expertise</div>
        <div class="w-[10%] min-w-[10%]">Points</div>
        <div class="w-[30%] min-w-[30%]">Action</div>
      </div>
      <div class="flex items-center grow">
        <div class="w-[30%] min-w-[30%]">test</div>
        <div class="w-[30%] min-w-[30%]">test</div>
        <div class="w-[10%] min-w-[10%]">0.00</div>
        <div class="w-[30%] min-w-[30%]">test</div>
      </div>
    </div>
  </div>
  <div class="flex items-center">
    <div class="">Created By:</div>
    <a href="#" class="flex items-center">
      <div class="flex items-center justify-center shrink-0 w-9 h-9 mr-1.5">
        <img class="w-full h-full rounded-full bg-gray-50 ring-2 ring-white"
            src="https://images.unsplash.com/photo-1505840717430-882ce147ef2d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
            alt="Emma Dorsey">
      </div>
      <div class="">Adrian McPhee</div>
    </a>
  </div>
  <div class="flex items-center">
    Status: <span>Available</span>
  </div>
  <div class="flex items-center">
    Priority: <span>Medium</span>
  </div>
  <div class="flex items-center">
    <div class="">Reviewer:</div> 
    <a href="#" class="flex items-center">
      <div class="flex items-center justify-center shrink-0 w-9 h-9 mr-1.5">
        <img class="w-full h-full rounded-full bg-gray-50 ring-2 ring-white"
            src="/static/assets/images/user.png"
            alt="Emma Dorsey">
      </div>
      <div class="">Adrian McPhee</div>
    </a>
  </div>
  <form action="" class="flex flex-col">
    <label for="thoughts" class="block text-sm font-medium leading-6 text-gray-900">Write your thoughts</label>
    <div class="mt-2">
      <textarea id="thoughts" name="thoughts" rows="3" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"></textarea>
    </div>
    <p class="mt-3 text-sm leading-6 text-gray-600">Write a few sentences about yourself.</p>

    <button type="submit" class="mt-6 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Add Comment</button>
  </form>
</div>

<!-- <ul role="list" class="grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-3">
  {% for challenge_listing in product_challenges_listings %}
  <li class="overflow-hidden rounded-xl border border-gray-200">
    <div class="flex items-center gap-x-4 border-b border-gray-900/5 bg-gray-50 p-4">
      <a href="/{{ challenge_listing.product.owner }}/{{ challenge_listing.product.slug }}/challenges/{{ challenge_listing['publishedId'] }}"
        class="text-lg font-medium leading-6 text-blue-400">{{ challenge_listing["title"] }}</a>
    </div>
    <div class="-my-3 divide-y divide-gray-100 px-6 py-4 text-sm leading-6">
      <div class="py-3">
        <div class="w-full truncate text-gray-500">
          {{ challenge_listing["shortDescription"] }}
        </div>
      </div>
      <div class="py-3">
        <div class="w-full font-semibold text-gray-500">Product</div>
        <div class="flex justify-between gap-x-2">
          {% if challenge_listing.product.videoUrl %}
          <button class="flex flex-none items-center cursor-pointer">
            <svg class="h-4 w-4 flex-none" viewBox="64 64 896 896" focusable="false" data-icon="play-square"
              fill="currentColor" aria-hidden="true">
              <path
                d="M442.3 677.6l199.4-156.7a11.3 11.3 0 000-17.7L442.3 346.4c-7.4-5.8-18.3-.6-18.3 8.8v313.5c0 9.4 10.9 14.7 18.3 8.9z">
              </path>
              <path
                d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z">
              </path>
            </svg>
          </button>
          {% endif %}
          <div class="flex-1">
            <a class="text-blue-400"
              href="{{ challenge_listing.product.owner }}/{{ challenge_listing.product.slug }}/">{{
              challenge_listing.product.name }}</a>
          </div>
        </div>
      </div>
      {% if challenge_listing.initiative %}
      <div class="py-3">
        <div class="w-full font-semibold text-gray-500">Initiative</div>
        <div class="flex justify-between gap-x-2">
          {% if challenge_listing.initiative.videoUrl %}
          <button class="flex flex-none items-center cursor-pointer">
            <svg class="h-4 w-4 flex-none" viewBox="64 64 896 896" focusable="false" data-icon="play-square"
              fill="currentColor" aria-hidden="true">
              <path
                d="M442.3 677.6l199.4-156.7a11.3 11.3 0 000-17.7L442.3 346.4c-7.4-5.8-18.3-.6-18.3 8.8v313.5c0 9.4 10.9 14.7 18.3 8.9z">
              </path>
              <path
                d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z">
              </path>
            </svg>
          </button>
          {% endif %}
          <div class="flex-1">
            <a class="text-blue-400"
              href="/{{ challenge_listing.product.owner }}/{{ challenge_listing.product.slug }}/initiatives/{{ challenge_listing.initiative.id }}">
              {{ challenge_listing.initiative.name }}
            </a>
          </div>
        </div>
      </div>
      {% endif %}
      <div class="flex gap-x-4 py-3">
        <div class="font-semibold text-gray-500">Priority</div>
        <div class="text-gray-500">
          {{ challenge_listing.challenge.priority }}
        </div>
      </div>
      <div class="flex gap-x-4 py-3">
        <div class="font-semibold text-gray-500">Status</div>
        <div class="text-gray-500">
          {% if TASK_TYPES[challenge_listing.status] == 'Claimed' %}
          Claimed by <a class="text-blue-400" href="/{{ challenge_listing.assignedToPerson.slug }}">{{
            challenge_listing.assignedToPerson.firstName }}</a>
          {% elif TASK_TYPES[challenge_listing.status] == 'In Review' %}
          In Review <a class="text-blue-400" href="/{{ challenge_listing.reviewer.username }}">{{
            challenge_listing.reviewer.firstName }}</a>
          {% else %}
          {{ TASK_TYPES[challenge_listing.status] }}
          {% endif %}
        </div>
      </div>
      {% if challenge_listing.category %}
      <div class="py-3">
        <div class="font-semibold text-gray-500 mb-1">Required skills</div>
        <div>
          <span class="text-gray-600 text-xs bg-gray-100 p-1">
            {{ challenge_listing.category }}
            {% if challenge_listing.expertise %}
            (
            {% for item in challenge_listing.expertise %}
            {{ item.name }}{% if item != challenge_listing.expertise|last %}
            {{ ', ' }}
            {% endif %}
            {% endfor %}
            )
            {% endif %}
          </span>
        </div>
      </div>
      {% endif %}
    </div>
  </li>
  {% endfor %}
</ul> -->

{% endblock %}
